<html style="width:134;height:690px;">
    <head>
        <title>注册到w34's mysql</title>
        <h2 style="text-align:center">重置密码</h1>
    </head>
    <body style="background-color:#FFD700;width:130px;height:640px;">
        <!-- <div id="none" style="background-color:#FFD700;height:450px;width:600px;float:left;"></div> -->
        <div id='signup' style="width:120;height:150px;float:left;">
            <form action="resetpasswd.php" method="post" style="text-align:left;" width="300" height="200">
            注册邮箱:<br>
             <input id="username" type="text" name="username" style="width: 110px;">
            <p id="usernameFormatError" style="display:none;color:red">请输入正确的邮箱</p><br>
            <!-- <div style="height:30px;width:3px;float:left;"></div> -->
            <div style="height:30px;width:100px;float:left;"></div>
            </form>
            <div id="none" style="background-color:#FFD700;height:30px;width:30px;float:left;"></div>
            <button id="submitForm">重置</button>
        </div>
        <a href="login_new.php">返回登录页</a>
        <!-- <div id="none" style="background-color:#FFD700;height:150px;width:600px;float:left;"></div> -->
        <script>
            var form = document.querySelector('form');
            var username = document.getElementById('username');
            var usernameRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]+$/;
            var usernameErrorMessage=document.getElementById('usernameFormatError');
            var password=document.getElementById('password');
            var passwordRegex = /^[a-zA-Z0-9!@#$%^&*]{6,}$/;
            var passwordErrorMessage=document.getElementById('passwordFormatError');
            var passwordLengthErrorMessage=document.getElementById('passwordLengthError');
            var passwordDup=document.getElementById('passwordDup');
            var passwordDupErrorMessage=document.getElementById('passwordDupError');
            var usernameOK=false,passwordOK=false,passwordDupOK=false;
            var buttonSubmit=document.getElementById("submitForm");
            buttonSubmit.addEventListener("click",function(event){
                if (usernameRegex.test(username.value)) {
                    usernameOK=true;
                } else {
                    usernameErrorMessage.style.display='block';
                    username.value="";
                }
                /*
                if(password.value.length<6||password.value.length>20){
                    passwordLengthErrorMessage.style.display='block';
                    password.value="";
                    passwordDup.value="";
                }
                else if (!passwordRegex.test(password.value)) {
                    passwordErrorMessage.style.display='block';
                    password.value="";
                    passwordDup.value="";
                } else {
                    passwordOK=true;
                }
                if (password.value==passwordDup.value) {
                    passwordDupOK=true;
                } else {
                    passwordDupErrorMessage.style.display='block';
                    //password.value="";
                    passwordDup.value="";
                }
                */
                if(usernameOK){
                    form.submit();
                }
            });
        </script>
        <!-- <p></p> -->
        <!-- <div id="footer" style="background-color:#FFA500;clear:both;text-align:center;">
            版权所有 © w34</div> -->
    </body>
</html>